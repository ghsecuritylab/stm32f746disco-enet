ARM GAS  /tmp/ccPcxO5S.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"sai.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_SAI2_Init,"ax",%progbits
  18              		.align	1
  19              		.global	MX_SAI2_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	MX_SAI2_Init:
  26              	.LFB138:
  27              		.file 1 "Src/sai.c"
   1:Src/sai.c     **** /**
   2:Src/sai.c     ****   ******************************************************************************
   3:Src/sai.c     ****   * File Name          : SAI.c
   4:Src/sai.c     ****   * Description        : This file provides code for the configuration
   5:Src/sai.c     ****   *                      of the SAI instances.
   6:Src/sai.c     ****   ******************************************************************************
   7:Src/sai.c     ****   * This notice applies to any and all portions of this file
   8:Src/sai.c     ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/sai.c     ****   * USER CODE END. Other portions of this file, whether 
  10:Src/sai.c     ****   * inserted by the user or by software development tools
  11:Src/sai.c     ****   * are owned by their respective copyright owners.
  12:Src/sai.c     ****   *
  13:Src/sai.c     ****   * Copyright (c) 2018 STMicroelectronics International N.V. 
  14:Src/sai.c     ****   * All rights reserved.
  15:Src/sai.c     ****   *
  16:Src/sai.c     ****   * Redistribution and use in source and binary forms, with or without 
  17:Src/sai.c     ****   * modification, are permitted, provided that the following conditions are met:
  18:Src/sai.c     ****   *
  19:Src/sai.c     ****   * 1. Redistribution of source code must retain the above copyright notice, 
  20:Src/sai.c     ****   *    this list of conditions and the following disclaimer.
  21:Src/sai.c     ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  22:Src/sai.c     ****   *    this list of conditions and the following disclaimer in the documentation
  23:Src/sai.c     ****   *    and/or other materials provided with the distribution.
  24:Src/sai.c     ****   * 3. Neither the name of STMicroelectronics nor the names of other 
  25:Src/sai.c     ****   *    contributors to this software may be used to endorse or promote products 
  26:Src/sai.c     ****   *    derived from this software without specific written permission.
  27:Src/sai.c     ****   * 4. This software, including modifications and/or derivative works of this 
  28:Src/sai.c     ****   *    software, must execute solely and exclusively on microcontroller or
  29:Src/sai.c     ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  30:Src/sai.c     ****   * 5. Redistribution and use of this software other than as permitted under 
  31:Src/sai.c     ****   *    this license is void and will automatically terminate your rights under 
ARM GAS  /tmp/ccPcxO5S.s 			page 2


  32:Src/sai.c     ****   *    this license. 
  33:Src/sai.c     ****   *
  34:Src/sai.c     ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" 
  35:Src/sai.c     ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT 
  36:Src/sai.c     ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
  37:Src/sai.c     ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  38:Src/sai.c     ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT 
  39:Src/sai.c     ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  40:Src/sai.c     ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  41:Src/sai.c     ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
  42:Src/sai.c     ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
  43:Src/sai.c     ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
  44:Src/sai.c     ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  45:Src/sai.c     ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  46:Src/sai.c     ****   *
  47:Src/sai.c     ****   ******************************************************************************
  48:Src/sai.c     ****   */
  49:Src/sai.c     **** /* Includes ------------------------------------------------------------------*/
  50:Src/sai.c     **** #include "sai.h"
  51:Src/sai.c     **** 
  52:Src/sai.c     **** #include "gpio.h"
  53:Src/sai.c     **** 
  54:Src/sai.c     **** /* USER CODE BEGIN 0 */
  55:Src/sai.c     **** 
  56:Src/sai.c     **** /* USER CODE END 0 */
  57:Src/sai.c     **** 
  58:Src/sai.c     **** SAI_HandleTypeDef hsai_BlockA2;
  59:Src/sai.c     **** SAI_HandleTypeDef hsai_BlockB2;
  60:Src/sai.c     **** 
  61:Src/sai.c     **** /* SAI2 init function */
  62:Src/sai.c     **** void MX_SAI2_Init(void)
  63:Src/sai.c     **** {
  28              		.loc 1 63 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  64:Src/sai.c     **** 
  65:Src/sai.c     ****   hsai_BlockA2.Instance = SAI2_Block_A;
  37              		.loc 1 65 0
  38 0002 2648     		ldr	r0, .L7
  39 0004 264B     		ldr	r3, .L7+4
  40 0006 0360     		str	r3, [r0]
  66:Src/sai.c     ****   hsai_BlockA2.Init.Protocol = SAI_FREE_PROTOCOL;
  41              		.loc 1 66 0
  42 0008 0023     		movs	r3, #0
  43 000a 0363     		str	r3, [r0, #48]
  67:Src/sai.c     ****   hsai_BlockA2.Init.AudioMode = SAI_MODEMASTER_TX;
  44              		.loc 1 67 0
  45 000c 4360     		str	r3, [r0, #4]
  68:Src/sai.c     ****   hsai_BlockA2.Init.DataSize = SAI_DATASIZE_24;
  46              		.loc 1 68 0
  47 000e C022     		movs	r2, #192
ARM GAS  /tmp/ccPcxO5S.s 			page 3


  48 0010 4263     		str	r2, [r0, #52]
  69:Src/sai.c     ****   hsai_BlockA2.Init.FirstBit = SAI_FIRSTBIT_MSB;
  49              		.loc 1 69 0
  50 0012 8363     		str	r3, [r0, #56]
  70:Src/sai.c     ****   hsai_BlockA2.Init.ClockStrobing = SAI_CLOCKSTROBING_FALLINGEDGE;
  51              		.loc 1 70 0
  52 0014 C363     		str	r3, [r0, #60]
  71:Src/sai.c     ****   hsai_BlockA2.Init.Synchro = SAI_ASYNCHRONOUS;
  53              		.loc 1 71 0
  54 0016 8360     		str	r3, [r0, #8]
  72:Src/sai.c     ****   hsai_BlockA2.Init.OutputDrive = SAI_OUTPUTDRIVE_DISABLE;
  55              		.loc 1 72 0
  56 0018 0361     		str	r3, [r0, #16]
  73:Src/sai.c     ****   hsai_BlockA2.Init.NoDivider = SAI_MASTERDIVIDER_ENABLE;
  57              		.loc 1 73 0
  58 001a 4361     		str	r3, [r0, #20]
  74:Src/sai.c     ****   hsai_BlockA2.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_EMPTY;
  59              		.loc 1 74 0
  60 001c 8361     		str	r3, [r0, #24]
  75:Src/sai.c     ****   hsai_BlockA2.Init.AudioFrequency = SAI_AUDIO_FREQUENCY_192K;
  61              		.loc 1 75 0
  62 001e 214A     		ldr	r2, .L7+8
  63 0020 C261     		str	r2, [r0, #28]
  76:Src/sai.c     ****   hsai_BlockA2.Init.SynchroExt = SAI_SYNCEXT_DISABLE;
  64              		.loc 1 76 0
  65 0022 C360     		str	r3, [r0, #12]
  77:Src/sai.c     ****   hsai_BlockA2.Init.MonoStereoMode = SAI_STEREOMODE;
  66              		.loc 1 77 0
  67 0024 4362     		str	r3, [r0, #36]
  78:Src/sai.c     ****   hsai_BlockA2.Init.CompandingMode = SAI_NOCOMPANDING;
  68              		.loc 1 78 0
  69 0026 8362     		str	r3, [r0, #40]
  79:Src/sai.c     ****   hsai_BlockA2.Init.TriState = SAI_OUTPUT_NOTRELEASED;
  70              		.loc 1 79 0
  71 0028 C362     		str	r3, [r0, #44]
  80:Src/sai.c     ****   hsai_BlockA2.FrameInit.FrameLength = 8;
  72              		.loc 1 80 0
  73 002a 0822     		movs	r2, #8
  74 002c 0264     		str	r2, [r0, #64]
  81:Src/sai.c     ****   hsai_BlockA2.FrameInit.ActiveFrameLength = 1;
  75              		.loc 1 81 0
  76 002e 0122     		movs	r2, #1
  77 0030 4264     		str	r2, [r0, #68]
  82:Src/sai.c     ****   hsai_BlockA2.FrameInit.FSDefinition = SAI_FS_STARTFRAME;
  78              		.loc 1 82 0
  79 0032 8364     		str	r3, [r0, #72]
  83:Src/sai.c     ****   hsai_BlockA2.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
  80              		.loc 1 83 0
  81 0034 C364     		str	r3, [r0, #76]
  84:Src/sai.c     ****   hsai_BlockA2.FrameInit.FSOffset = SAI_FS_FIRSTBIT;
  82              		.loc 1 84 0
  83 0036 0365     		str	r3, [r0, #80]
  85:Src/sai.c     ****   hsai_BlockA2.SlotInit.FirstBitOffset = 0;
  84              		.loc 1 85 0
  85 0038 4365     		str	r3, [r0, #84]
  86:Src/sai.c     ****   hsai_BlockA2.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
  86              		.loc 1 86 0
ARM GAS  /tmp/ccPcxO5S.s 			page 4


  87 003a 8365     		str	r3, [r0, #88]
  87:Src/sai.c     ****   hsai_BlockA2.SlotInit.SlotNumber = 1;
  88              		.loc 1 87 0
  89 003c C265     		str	r2, [r0, #92]
  88:Src/sai.c     ****   hsai_BlockA2.SlotInit.SlotActive = 0x00000000;
  90              		.loc 1 88 0
  91 003e 0366     		str	r3, [r0, #96]
  89:Src/sai.c     ****   if (HAL_SAI_Init(&hsai_BlockA2) != HAL_OK)
  92              		.loc 1 89 0
  93 0040 FFF7FEFF 		bl	HAL_SAI_Init
  94              	.LVL0:
  95 0044 00BB     		cbnz	r0, .L5
  96              	.L2:
  90:Src/sai.c     ****   {
  91:Src/sai.c     ****     _Error_Handler(__FILE__, __LINE__);
  92:Src/sai.c     ****   }
  93:Src/sai.c     **** 
  94:Src/sai.c     ****   hsai_BlockB2.Instance = SAI2_Block_B;
  97              		.loc 1 94 0
  98 0046 1848     		ldr	r0, .L7+12
  99 0048 184B     		ldr	r3, .L7+16
 100 004a 0360     		str	r3, [r0]
  95:Src/sai.c     ****   hsai_BlockB2.Init.Protocol = SAI_FREE_PROTOCOL;
 101              		.loc 1 95 0
 102 004c 0023     		movs	r3, #0
 103 004e 0363     		str	r3, [r0, #48]
  96:Src/sai.c     ****   hsai_BlockB2.Init.AudioMode = SAI_MODESLAVE_RX;
 104              		.loc 1 96 0
 105 0050 0322     		movs	r2, #3
 106 0052 4260     		str	r2, [r0, #4]
  97:Src/sai.c     ****   hsai_BlockB2.Init.DataSize = SAI_DATASIZE_24;
 107              		.loc 1 97 0
 108 0054 C022     		movs	r2, #192
 109 0056 4263     		str	r2, [r0, #52]
  98:Src/sai.c     ****   hsai_BlockB2.Init.FirstBit = SAI_FIRSTBIT_MSB;
 110              		.loc 1 98 0
 111 0058 8363     		str	r3, [r0, #56]
  99:Src/sai.c     ****   hsai_BlockB2.Init.ClockStrobing = SAI_CLOCKSTROBING_FALLINGEDGE;
 112              		.loc 1 99 0
 113 005a C363     		str	r3, [r0, #60]
 100:Src/sai.c     ****   hsai_BlockB2.Init.Synchro = SAI_SYNCHRONOUS;
 114              		.loc 1 100 0
 115 005c 0122     		movs	r2, #1
 116 005e 8260     		str	r2, [r0, #8]
 101:Src/sai.c     ****   hsai_BlockB2.Init.OutputDrive = SAI_OUTPUTDRIVE_DISABLE;
 117              		.loc 1 101 0
 118 0060 0361     		str	r3, [r0, #16]
 102:Src/sai.c     ****   hsai_BlockB2.Init.FIFOThreshold = SAI_FIFOTHRESHOLD_EMPTY;
 119              		.loc 1 102 0
 120 0062 8361     		str	r3, [r0, #24]
 103:Src/sai.c     ****   hsai_BlockB2.Init.SynchroExt = SAI_SYNCEXT_DISABLE;
 121              		.loc 1 103 0
 122 0064 C360     		str	r3, [r0, #12]
 104:Src/sai.c     ****   hsai_BlockB2.Init.MonoStereoMode = SAI_STEREOMODE;
 123              		.loc 1 104 0
 124 0066 4362     		str	r3, [r0, #36]
 105:Src/sai.c     ****   hsai_BlockB2.Init.CompandingMode = SAI_NOCOMPANDING;
ARM GAS  /tmp/ccPcxO5S.s 			page 5


 125              		.loc 1 105 0
 126 0068 8362     		str	r3, [r0, #40]
 106:Src/sai.c     ****   hsai_BlockB2.Init.TriState = SAI_OUTPUT_NOTRELEASED;
 127              		.loc 1 106 0
 128 006a C362     		str	r3, [r0, #44]
 107:Src/sai.c     ****   hsai_BlockB2.FrameInit.FrameLength = 24;
 129              		.loc 1 107 0
 130 006c 1821     		movs	r1, #24
 131 006e 0164     		str	r1, [r0, #64]
 108:Src/sai.c     ****   hsai_BlockB2.FrameInit.ActiveFrameLength = 1;
 132              		.loc 1 108 0
 133 0070 4264     		str	r2, [r0, #68]
 109:Src/sai.c     ****   hsai_BlockB2.FrameInit.FSDefinition = SAI_FS_STARTFRAME;
 134              		.loc 1 109 0
 135 0072 8364     		str	r3, [r0, #72]
 110:Src/sai.c     ****   hsai_BlockB2.FrameInit.FSPolarity = SAI_FS_ACTIVE_LOW;
 136              		.loc 1 110 0
 137 0074 C364     		str	r3, [r0, #76]
 111:Src/sai.c     ****   hsai_BlockB2.FrameInit.FSOffset = SAI_FS_FIRSTBIT;
 138              		.loc 1 111 0
 139 0076 0365     		str	r3, [r0, #80]
 112:Src/sai.c     ****   hsai_BlockB2.SlotInit.FirstBitOffset = 0;
 140              		.loc 1 112 0
 141 0078 4365     		str	r3, [r0, #84]
 113:Src/sai.c     ****   hsai_BlockB2.SlotInit.SlotSize = SAI_SLOTSIZE_DATASIZE;
 142              		.loc 1 113 0
 143 007a 8365     		str	r3, [r0, #88]
 114:Src/sai.c     ****   hsai_BlockB2.SlotInit.SlotNumber = 1;
 144              		.loc 1 114 0
 145 007c C265     		str	r2, [r0, #92]
 115:Src/sai.c     ****   hsai_BlockB2.SlotInit.SlotActive = 0x00000000;
 146              		.loc 1 115 0
 147 007e 0366     		str	r3, [r0, #96]
 116:Src/sai.c     ****   if (HAL_SAI_Init(&hsai_BlockB2) != HAL_OK)
 148              		.loc 1 116 0
 149 0080 FFF7FEFF 		bl	HAL_SAI_Init
 150              	.LVL1:
 151 0084 28B9     		cbnz	r0, .L6
 152              	.L1:
 117:Src/sai.c     ****   {
 118:Src/sai.c     ****     _Error_Handler(__FILE__, __LINE__);
 119:Src/sai.c     ****   }
 120:Src/sai.c     **** 
 121:Src/sai.c     **** }
 153              		.loc 1 121 0
 154 0086 08BD     		pop	{r3, pc}
 155              	.L5:
  91:Src/sai.c     ****   }
 156              		.loc 1 91 0
 157 0088 5B21     		movs	r1, #91
 158 008a 0948     		ldr	r0, .L7+20
 159 008c FFF7FEFF 		bl	_Error_Handler
 160              	.LVL2:
 161 0090 D9E7     		b	.L2
 162              	.L6:
 118:Src/sai.c     ****   }
 163              		.loc 1 118 0
ARM GAS  /tmp/ccPcxO5S.s 			page 6


 164 0092 7621     		movs	r1, #118
 165 0094 0648     		ldr	r0, .L7+20
 166 0096 FFF7FEFF 		bl	_Error_Handler
 167              	.LVL3:
 168              		.loc 1 121 0
 169 009a F4E7     		b	.L1
 170              	.L8:
 171              		.align	2
 172              	.L7:
 173 009c 00000000 		.word	hsai_BlockA2
 174 00a0 045C0140 		.word	1073830916
 175 00a4 00EE0200 		.word	192000
 176 00a8 00000000 		.word	hsai_BlockB2
 177 00ac 245C0140 		.word	1073830948
 178 00b0 00000000 		.word	.LC0
 179              		.cfi_endproc
 180              	.LFE138:
 182              		.section	.text.HAL_SAI_MspInit,"ax",%progbits
 183              		.align	1
 184              		.global	HAL_SAI_MspInit
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 188              		.fpu fpv5-sp-d16
 190              	HAL_SAI_MspInit:
 191              	.LFB139:
 122:Src/sai.c     **** static uint32_t SAI2_client =0;
 123:Src/sai.c     **** 
 124:Src/sai.c     **** void HAL_SAI_MspInit(SAI_HandleTypeDef* hsai)
 125:Src/sai.c     **** {
 192              		.loc 1 125 0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 32
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196              	.LVL4:
 197 0000 10B5     		push	{r4, lr}
 198              	.LCFI1:
 199              		.cfi_def_cfa_offset 8
 200              		.cfi_offset 4, -8
 201              		.cfi_offset 14, -4
 202 0002 88B0     		sub	sp, sp, #32
 203              	.LCFI2:
 204              		.cfi_def_cfa_offset 40
 205 0004 0446     		mov	r4, r0
 126:Src/sai.c     **** 
 127:Src/sai.c     ****   GPIO_InitTypeDef GPIO_InitStruct;
 128:Src/sai.c     **** /* SAI2 */
 129:Src/sai.c     ****     if(hsai->Instance==SAI2_Block_A)
 206              		.loc 1 129 0
 207 0006 0268     		ldr	r2, [r0]
 208 0008 224B     		ldr	r3, .L17
 209 000a 9A42     		cmp	r2, r3
 210 000c 05D0     		beq	.L15
 211              	.LVL5:
 212              	.L10:
 130:Src/sai.c     ****     {
 131:Src/sai.c     ****     /* SAI2 clock enable */
ARM GAS  /tmp/ccPcxO5S.s 			page 7


 132:Src/sai.c     ****     if (SAI2_client == 0)
 133:Src/sai.c     ****     {
 134:Src/sai.c     ****        __HAL_RCC_SAI2_CLK_ENABLE();
 135:Src/sai.c     ****     }
 136:Src/sai.c     ****     SAI2_client ++;
 137:Src/sai.c     ****     
 138:Src/sai.c     ****     /**SAI2_A_Block_A GPIO Configuration    
 139:Src/sai.c     ****     PI4     ------> SAI2_MCLK_A
 140:Src/sai.c     ****     PI5     ------> SAI2_SCK_A
 141:Src/sai.c     ****     PI7     ------> SAI2_FS_A
 142:Src/sai.c     ****     PI6     ------> SAI2_SD_A 
 143:Src/sai.c     ****     */
 144:Src/sai.c     ****     GPIO_InitStruct.Pin = SAI2_MCLKA_Pin|SAI2_SCKA_Pin|SAI2_FSA_Pin|SAI2_SDA_Pin;
 145:Src/sai.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 146:Src/sai.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 147:Src/sai.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 148:Src/sai.c     ****     GPIO_InitStruct.Alternate = GPIO_AF10_SAI2;
 149:Src/sai.c     ****     HAL_GPIO_Init(GPIOI, &GPIO_InitStruct);
 150:Src/sai.c     **** 
 151:Src/sai.c     ****     }
 152:Src/sai.c     ****     if(hsai->Instance==SAI2_Block_B)
 213              		.loc 1 152 0
 214 000e 2268     		ldr	r2, [r4]
 215 0010 214B     		ldr	r3, .L17+4
 216 0012 9A42     		cmp	r2, r3
 217 0014 1FD0     		beq	.L16
 218              	.L9:
 153:Src/sai.c     ****     {
 154:Src/sai.c     ****       /* SAI2 clock enable */
 155:Src/sai.c     ****       if (SAI2_client == 0)
 156:Src/sai.c     ****       {
 157:Src/sai.c     ****        __HAL_RCC_SAI2_CLK_ENABLE();
 158:Src/sai.c     ****       }
 159:Src/sai.c     ****     SAI2_client ++;
 160:Src/sai.c     ****     
 161:Src/sai.c     ****     /**SAI2_B_Block_B GPIO Configuration    
 162:Src/sai.c     ****     PG10     ------> SAI2_SD_B 
 163:Src/sai.c     ****     */
 164:Src/sai.c     ****     GPIO_InitStruct.Pin = SAI2_SDB_Pin;
 165:Src/sai.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 166:Src/sai.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 167:Src/sai.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 168:Src/sai.c     ****     GPIO_InitStruct.Alternate = GPIO_AF10_SAI2;
 169:Src/sai.c     ****     HAL_GPIO_Init(SAI2_SDB_GPIO_Port, &GPIO_InitStruct);
 170:Src/sai.c     **** 
 171:Src/sai.c     ****     }
 172:Src/sai.c     **** }
 219              		.loc 1 172 0
 220 0016 08B0     		add	sp, sp, #32
 221              	.LCFI3:
 222              		.cfi_remember_state
 223              		.cfi_def_cfa_offset 8
 224              		@ sp needed
 225 0018 10BD     		pop	{r4, pc}
 226              	.LVL6:
 227              	.L15:
 228              	.LCFI4:
ARM GAS  /tmp/ccPcxO5S.s 			page 8


 229              		.cfi_restore_state
 132:Src/sai.c     ****     {
 230              		.loc 1 132 0
 231 001a 204B     		ldr	r3, .L17+8
 232 001c 1B68     		ldr	r3, [r3]
 233 001e 4BB9     		cbnz	r3, .L11
 234              	.LBB2:
 134:Src/sai.c     ****     }
 235              		.loc 1 134 0
 236 0020 1F4A     		ldr	r2, .L17+12
 237 0022 516C     		ldr	r1, [r2, #68]
 238 0024 41F40001 		orr	r1, r1, #8388608
 239 0028 5164     		str	r1, [r2, #68]
 240 002a 526C     		ldr	r2, [r2, #68]
 241 002c 02F40002 		and	r2, r2, #8388608
 242 0030 0192     		str	r2, [sp, #4]
 243 0032 019A     		ldr	r2, [sp, #4]
 244              	.L11:
 245              	.LBE2:
 136:Src/sai.c     ****     
 246              		.loc 1 136 0
 247 0034 0133     		adds	r3, r3, #1
 248 0036 194A     		ldr	r2, .L17+8
 249 0038 1360     		str	r3, [r2]
 144:Src/sai.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 250              		.loc 1 144 0
 251 003a F023     		movs	r3, #240
 252 003c 0393     		str	r3, [sp, #12]
 145:Src/sai.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 253              		.loc 1 145 0
 254 003e 0223     		movs	r3, #2
 255 0040 0493     		str	r3, [sp, #16]
 146:Src/sai.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 256              		.loc 1 146 0
 257 0042 0023     		movs	r3, #0
 258 0044 0593     		str	r3, [sp, #20]
 147:Src/sai.c     ****     GPIO_InitStruct.Alternate = GPIO_AF10_SAI2;
 259              		.loc 1 147 0
 260 0046 0693     		str	r3, [sp, #24]
 148:Src/sai.c     ****     HAL_GPIO_Init(GPIOI, &GPIO_InitStruct);
 261              		.loc 1 148 0
 262 0048 0A23     		movs	r3, #10
 263 004a 0793     		str	r3, [sp, #28]
 149:Src/sai.c     **** 
 264              		.loc 1 149 0
 265 004c 03A9     		add	r1, sp, #12
 266 004e 1548     		ldr	r0, .L17+16
 267              	.LVL7:
 268 0050 FFF7FEFF 		bl	HAL_GPIO_Init
 269              	.LVL8:
 270 0054 DBE7     		b	.L10
 271              	.L16:
 155:Src/sai.c     ****       {
 272              		.loc 1 155 0
 273 0056 114B     		ldr	r3, .L17+8
 274 0058 1B68     		ldr	r3, [r3]
 275 005a 4BB9     		cbnz	r3, .L13
ARM GAS  /tmp/ccPcxO5S.s 			page 9


 276              	.LBB3:
 157:Src/sai.c     ****       }
 277              		.loc 1 157 0
 278 005c 104A     		ldr	r2, .L17+12
 279 005e 516C     		ldr	r1, [r2, #68]
 280 0060 41F40001 		orr	r1, r1, #8388608
 281 0064 5164     		str	r1, [r2, #68]
 282 0066 526C     		ldr	r2, [r2, #68]
 283 0068 02F40002 		and	r2, r2, #8388608
 284 006c 0292     		str	r2, [sp, #8]
 285 006e 029A     		ldr	r2, [sp, #8]
 286              	.L13:
 287              	.LBE3:
 159:Src/sai.c     ****     
 288              		.loc 1 159 0
 289 0070 0133     		adds	r3, r3, #1
 290 0072 0A4A     		ldr	r2, .L17+8
 291 0074 1360     		str	r3, [r2]
 164:Src/sai.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 292              		.loc 1 164 0
 293 0076 4FF48063 		mov	r3, #1024
 294 007a 0393     		str	r3, [sp, #12]
 165:Src/sai.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 295              		.loc 1 165 0
 296 007c 0223     		movs	r3, #2
 297 007e 0493     		str	r3, [sp, #16]
 166:Src/sai.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 298              		.loc 1 166 0
 299 0080 0023     		movs	r3, #0
 300 0082 0593     		str	r3, [sp, #20]
 167:Src/sai.c     ****     GPIO_InitStruct.Alternate = GPIO_AF10_SAI2;
 301              		.loc 1 167 0
 302 0084 0693     		str	r3, [sp, #24]
 168:Src/sai.c     ****     HAL_GPIO_Init(SAI2_SDB_GPIO_Port, &GPIO_InitStruct);
 303              		.loc 1 168 0
 304 0086 0A23     		movs	r3, #10
 305 0088 0793     		str	r3, [sp, #28]
 169:Src/sai.c     **** 
 306              		.loc 1 169 0
 307 008a 03A9     		add	r1, sp, #12
 308 008c 0648     		ldr	r0, .L17+20
 309 008e FFF7FEFF 		bl	HAL_GPIO_Init
 310              	.LVL9:
 311              		.loc 1 172 0
 312 0092 C0E7     		b	.L9
 313              	.L18:
 314              		.align	2
 315              	.L17:
 316 0094 045C0140 		.word	1073830916
 317 0098 245C0140 		.word	1073830948
 318 009c 00000000 		.word	.LANCHOR0
 319 00a0 00380240 		.word	1073887232
 320 00a4 00200240 		.word	1073881088
 321 00a8 00180240 		.word	1073879040
 322              		.cfi_endproc
 323              	.LFE139:
 325              		.section	.text.HAL_SAI_MspDeInit,"ax",%progbits
ARM GAS  /tmp/ccPcxO5S.s 			page 10


 326              		.align	1
 327              		.global	HAL_SAI_MspDeInit
 328              		.syntax unified
 329              		.thumb
 330              		.thumb_func
 331              		.fpu fpv5-sp-d16
 333              	HAL_SAI_MspDeInit:
 334              	.LFB140:
 173:Src/sai.c     **** 
 174:Src/sai.c     **** void HAL_SAI_MspDeInit(SAI_HandleTypeDef* hsai)
 175:Src/sai.c     **** {
 335              		.loc 1 175 0
 336              		.cfi_startproc
 337              		@ args = 0, pretend = 0, frame = 0
 338              		@ frame_needed = 0, uses_anonymous_args = 0
 339              	.LVL10:
 340 0000 10B5     		push	{r4, lr}
 341              	.LCFI5:
 342              		.cfi_def_cfa_offset 8
 343              		.cfi_offset 4, -8
 344              		.cfi_offset 14, -4
 345 0002 0446     		mov	r4, r0
 176:Src/sai.c     **** 
 177:Src/sai.c     **** /* SAI2 */
 178:Src/sai.c     ****     if(hsai->Instance==SAI2_Block_A)
 346              		.loc 1 178 0
 347 0004 0268     		ldr	r2, [r0]
 348 0006 134B     		ldr	r3, .L27
 349 0008 9A42     		cmp	r2, r3
 350 000a 04D0     		beq	.L25
 351              	.LVL11:
 352              	.L20:
 179:Src/sai.c     ****     {
 180:Src/sai.c     ****     SAI2_client --;
 181:Src/sai.c     ****     if (SAI2_client == 0)
 182:Src/sai.c     ****       {
 183:Src/sai.c     ****       /* Peripheral clock disable */ 
 184:Src/sai.c     ****        __HAL_RCC_SAI2_CLK_DISABLE();
 185:Src/sai.c     ****       }
 186:Src/sai.c     ****     
 187:Src/sai.c     ****     /**SAI2_A_Block_A GPIO Configuration    
 188:Src/sai.c     ****     PI4     ------> SAI2_MCLK_A
 189:Src/sai.c     ****     PI5     ------> SAI2_SCK_A
 190:Src/sai.c     ****     PI7     ------> SAI2_FS_A
 191:Src/sai.c     ****     PI6     ------> SAI2_SD_A 
 192:Src/sai.c     ****     */
 193:Src/sai.c     ****     HAL_GPIO_DeInit(GPIOI, SAI2_MCLKA_Pin|SAI2_SCKA_Pin|SAI2_FSA_Pin|SAI2_SDA_Pin);
 194:Src/sai.c     **** 
 195:Src/sai.c     ****     }
 196:Src/sai.c     ****     if(hsai->Instance==SAI2_Block_B)
 353              		.loc 1 196 0
 354 000c 2268     		ldr	r2, [r4]
 355 000e 124B     		ldr	r3, .L27+4
 356 0010 9A42     		cmp	r2, r3
 357 0012 0FD0     		beq	.L26
 358              	.L19:
 197:Src/sai.c     ****     {
ARM GAS  /tmp/ccPcxO5S.s 			page 11


 198:Src/sai.c     ****     SAI2_client --;
 199:Src/sai.c     ****       if (SAI2_client == 0)
 200:Src/sai.c     ****       {
 201:Src/sai.c     ****       /* Peripheral clock disable */
 202:Src/sai.c     ****       __HAL_RCC_SAI2_CLK_DISABLE();
 203:Src/sai.c     ****       }
 204:Src/sai.c     ****     
 205:Src/sai.c     ****     /**SAI2_B_Block_B GPIO Configuration    
 206:Src/sai.c     ****     PG10     ------> SAI2_SD_B 
 207:Src/sai.c     ****     */
 208:Src/sai.c     ****     HAL_GPIO_DeInit(SAI2_SDB_GPIO_Port, SAI2_SDB_Pin);
 209:Src/sai.c     **** 
 210:Src/sai.c     ****     }
 211:Src/sai.c     **** }
 359              		.loc 1 211 0
 360 0014 10BD     		pop	{r4, pc}
 361              	.LVL12:
 362              	.L25:
 180:Src/sai.c     ****     if (SAI2_client == 0)
 363              		.loc 1 180 0
 364 0016 114A     		ldr	r2, .L27+8
 365 0018 1368     		ldr	r3, [r2]
 366 001a 013B     		subs	r3, r3, #1
 367 001c 1360     		str	r3, [r2]
 181:Src/sai.c     ****       {
 368              		.loc 1 181 0
 369 001e 23B9     		cbnz	r3, .L21
 184:Src/sai.c     ****       }
 370              		.loc 1 184 0
 371 0020 0F4A     		ldr	r2, .L27+12
 372 0022 536C     		ldr	r3, [r2, #68]
 373 0024 23F40003 		bic	r3, r3, #8388608
 374 0028 5364     		str	r3, [r2, #68]
 375              	.L21:
 193:Src/sai.c     **** 
 376              		.loc 1 193 0
 377 002a F021     		movs	r1, #240
 378 002c 0D48     		ldr	r0, .L27+16
 379              	.LVL13:
 380 002e FFF7FEFF 		bl	HAL_GPIO_DeInit
 381              	.LVL14:
 382 0032 EBE7     		b	.L20
 383              	.L26:
 198:Src/sai.c     ****       if (SAI2_client == 0)
 384              		.loc 1 198 0
 385 0034 094A     		ldr	r2, .L27+8
 386 0036 1368     		ldr	r3, [r2]
 387 0038 013B     		subs	r3, r3, #1
 388 003a 1360     		str	r3, [r2]
 199:Src/sai.c     ****       {
 389              		.loc 1 199 0
 390 003c 23B9     		cbnz	r3, .L23
 202:Src/sai.c     ****       }
 391              		.loc 1 202 0
 392 003e 084A     		ldr	r2, .L27+12
 393 0040 536C     		ldr	r3, [r2, #68]
 394 0042 23F40003 		bic	r3, r3, #8388608
ARM GAS  /tmp/ccPcxO5S.s 			page 12


 395 0046 5364     		str	r3, [r2, #68]
 396              	.L23:
 208:Src/sai.c     **** 
 397              		.loc 1 208 0
 398 0048 4FF48061 		mov	r1, #1024
 399 004c 0648     		ldr	r0, .L27+20
 400 004e FFF7FEFF 		bl	HAL_GPIO_DeInit
 401              	.LVL15:
 402              		.loc 1 211 0
 403 0052 DFE7     		b	.L19
 404              	.L28:
 405              		.align	2
 406              	.L27:
 407 0054 045C0140 		.word	1073830916
 408 0058 245C0140 		.word	1073830948
 409 005c 00000000 		.word	.LANCHOR0
 410 0060 00380240 		.word	1073887232
 411 0064 00200240 		.word	1073881088
 412 0068 00180240 		.word	1073879040
 413              		.cfi_endproc
 414              	.LFE140:
 416              		.comm	hsai_BlockB2,132,4
 417              		.comm	hsai_BlockA2,132,4
 418              		.section	.bss.SAI2_client,"aw",%nobits
 419              		.align	2
 420              		.set	.LANCHOR0,. + 0
 423              	SAI2_client:
 424 0000 00000000 		.space	4
 425              		.section	.rodata.MX_SAI2_Init.str1.4,"aMS",%progbits,1
 426              		.align	2
 427              	.LC0:
 428 0000 5372632F 		.ascii	"Src/sai.c\000"
 428      7361692E 
 428      6300
 429              		.text
 430              	.Letext0:
 431              		.file 2 "/home/warranyu/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_defa
 432              		.file 3 "/home/warranyu/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint.h
 433              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 434              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 435              		.file 6 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 436              		.file 7 "/home/warranyu/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/lock.h"
 437              		.file 8 "/home/warranyu/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_types.h"
 438              		.file 9 "/home/warranyu/opt/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/include
 439              		.file 10 "/home/warranyu/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/reent.h"
 440              		.file 11 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 441              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 442              		.file 13 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 443              		.file 14 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_sai.h"
 444              		.file 15 "Inc/sai.h"
ARM GAS  /tmp/ccPcxO5S.s 			page 13


DEFINED SYMBOLS
                            *ABS*:0000000000000000 sai.c
     /tmp/ccPcxO5S.s:18     .text.MX_SAI2_Init:0000000000000000 $t
     /tmp/ccPcxO5S.s:25     .text.MX_SAI2_Init:0000000000000000 MX_SAI2_Init
     /tmp/ccPcxO5S.s:173    .text.MX_SAI2_Init:000000000000009c $d
                            *COM*:0000000000000084 hsai_BlockA2
                            *COM*:0000000000000084 hsai_BlockB2
     /tmp/ccPcxO5S.s:183    .text.HAL_SAI_MspInit:0000000000000000 $t
     /tmp/ccPcxO5S.s:190    .text.HAL_SAI_MspInit:0000000000000000 HAL_SAI_MspInit
     /tmp/ccPcxO5S.s:316    .text.HAL_SAI_MspInit:0000000000000094 $d
     /tmp/ccPcxO5S.s:326    .text.HAL_SAI_MspDeInit:0000000000000000 $t
     /tmp/ccPcxO5S.s:333    .text.HAL_SAI_MspDeInit:0000000000000000 HAL_SAI_MspDeInit
     /tmp/ccPcxO5S.s:407    .text.HAL_SAI_MspDeInit:0000000000000054 $d
     /tmp/ccPcxO5S.s:419    .bss.SAI2_client:0000000000000000 $d
     /tmp/ccPcxO5S.s:423    .bss.SAI2_client:0000000000000000 SAI2_client
     /tmp/ccPcxO5S.s:426    .rodata.MX_SAI2_Init.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_SAI_Init
_Error_Handler
HAL_GPIO_Init
HAL_GPIO_DeInit
